 {% extends 'staff_home.html' %}
{% load static %}
{% block content %}


<!DOCTYPE html>
<html lang="en-US">
<body>

<h1>consumption report of this season</h1>

<div id="piechart"></div>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">
// Load google charts
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values


test =JSON.parse("{{values|escapejs}}");
console.log(test);

const lista = Object.entries(test);
console.log(lista);


function drawChart() {
  var data = google.visualization.arrayToDataTable(lista);

  // Optional; add a title and set the width and height of the chart
  var options = {'width':document.documentElement.clientWidth, 'height':document.documentElement.clientHeight-100};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.PieChart(document.getElementById('piechart'));
  chart.draw(data, options);
}
</script>

</body>
</html>


</body>
{% endblock content %}
</html>
